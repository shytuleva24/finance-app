@use 'sass:math';

/* Font family */
$font-sans: 'Public Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

/* Weights */
$fw-regular: 400;
$fw-bold: 700;

/* Helper: convert percent line-height to unitless (preferred) */
@function lh($percent) {
  @return math.div($percent, 100);
}

/* Base mixin for all text presets */
@mixin text-preset($size, $lineHeightPercent, $weight) {
  font-family: $font-sans;
  font-size: $size;
  line-height: lh($lineHeightPercent); // 120% -> 1.2, 150% -> 1.5
  font-weight: $weight;
  letter-spacing: 0;
}

/* === Typography Presets (from your design) === */
@mixin text-preset-1() {
  @include text-preset(32px, 120, $fw-bold);
}

@mixin text-preset-2() {
  @include text-preset(20px, 120, $fw-bold);
}

@mixin text-preset-3() {
  @include text-preset(16px, 150, $fw-bold);
}

@mixin text-preset-4() {
  @include text-preset(14px, 150, $fw-regular);
}

@mixin text-preset-4-bold() {
  @include text-preset(14px, 150, $fw-bold);
}

@mixin text-preset-5() {
  @include text-preset(12px, 150, $fw-regular);
}

@mixin text-preset-5-bold() {
  @include text-preset(12px, 150, $fw-bold);
}

/* Optional: helper for text color via your CSS variables */
@mixin text-color($cssVarName) {
  color: var(#{$cssVarName});
}

/* Form Input Mixin */
@mixin form-input {
  width: 100%;
  padding: 0.625rem 0.75rem;
  font-family: $font-sans;
  @include text-preset-4();
  color: var(--grey-900);
  background-color: var(--white);
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 0.5rem;
  outline: none;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  &:focus {
    border-color: var(--grey-900);
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
  }

  &::placeholder {
    color: var(--grey-500);
  }
}

@mixin form-label {
  @include text-preset-5();
  font-weight: $fw-bold;
  color: var(--grey-500);
  display: block;
}

@mixin form-error {
  @include text-preset-4();
  color: var(--red);
}

/* Button Mixin */
@mixin primary-button {
  @include text-preset-4();
  font-weight: $fw-bold;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 0.75rem;
  color: var(--white);
  background-color: #171820;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: background-color 0.15s ease-in-out, opacity 0.15s ease-in-out;

  &:hover:not(:disabled) {
    background-color: rgb(0, 0, 0);
  }

  &:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
  }
}

/* Media Queries */
@mixin mobile {
  @media (max-width: 768px) {
    @content;
  }
}

@mixin tablet {
  @media (max-width: 1024px) {
    @content;
  }
}

/* Optional: utility classes (if you like using classes) */
// .tp-1 { @include text-preset-1(); }
// .tp-2 { @include text-preset-2(); }
// .tp-3 { @include text-preset-3(); }
// .tp-4 { @include text-preset-4(); }
// .tp-4b { @include text-preset-4-bold(); }
// .tp-5 { @include text-preset-5(); }
// .tp-5b { @include text-preset-5-bold(); }
